<!DOCTYPE html>
<html>
    <head>
        <title>OCN Guide | Tools</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/mystyles.css" rel="stylesheet">
        <link href="css/basics-style.css" rel="stylesheet">

        <link rel="icon" type="image/png" href="res/favicon.png">
    </head>

    <body>
        <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">Overcast Network Guide</a>
                </div>
                <div id="navbar" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="basics-overview.html">Basics</a></li>
                        <li><a href="tips.html">PvP Tips</a></li>
                        <li><a href="strategies.html">Strategies</a></li>
                        <li><a>Tools</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container center">
            <h1 class="page-header">Tools</h1>
            <h3 class="sub-header">KD Calculator</h3>

            <div class="row">
                <div class="col-lg-3">
                    <input type="text" class="form-control" placeholder="Kills" id="kd_kills">
                </div>
                <div class="col-lg-3">
                    <input type="text" class="form-control" placeholder="Deaths" id="kd_deaths">
                </div>
                <div class="col-lg-3">
                    <input type="text" class="form-control" placeholder="Desired KD" id="kd_kd">
                </div>
            </div>
            <br>

            <button class="btn btn-info" type="button" onclick="computeKD();">Compute</button>
            <br><br>

            <h3 class="sub-header">Player Analysis</h3>

            <div class="row">
                <div class="col-lg-3">
                    <input type="text" class="form-control" placeholder="Kills" id="kills">
                </div>
                <div class="col-lg-3">
                    <input type="text" class="form-control" placeholder="Deaths" id="deaths">
                </div>
                <div class="col-lg-3">
                    <input type="text" class="form-control" placeholder="Days Played" id="time">
                </div>
                <div class="col-lg-3">
                    <input type="text" class="form-control" placeholder="Number of Objectives" id="obj">
                </div>
            </div>
            <br>

            <button class="btn btn-info" type="button" onclick="analyze();">Analyze</button>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/ie10-viewport-bug-workaround.js"></script>

        <script language="javascript" type="text/javascript">
            function computeKD() {
                var kills = document.getElementById("kd_kills").value;
                var deaths = document.getElementById("kd_deaths").value;
                var d_kd = document.getElementById("kd_kd").value;

                if(kills == "" || deaths == "" || d_kd == "")
                    alert("Please fill in all the information required.");
                else if((!isNaN(kills) && kills.toString().indexOf('.') != -1) || (!isNaN(deaths) && deaths.toString().indexOf('.') != -1) || isNaN(kills) || isNaN(deaths) || isNaN(d_kd))
                    alert("Invalid input(s).");
                else if(parseInt(deaths) == 0)
                    alert("Error: 0 Deaths");
                else {
                    var k = parseInt(kills);
                    var d = parseInt(deaths);
                    var desired_kd = parseFloat(d_kd);

                    if(kills/deaths == desired_kd) {
                        alert("You already have your desired KD.");
                    }

                    else if(kills/deaths < desired_kd) {
                        var n_k = Math.ceil(desired_kd * d) - k;
                        alert("You need " + n_k + " kills to reach your desired KD.");
                    }

                    else {
                        var n_d = Math.ceil(k / desired_kd) - d;
                        alert("You need " + n_d + " deaths to reach your desired KD.");
                    }
                }
            }

            function analyze() {
                var str_kills = document.getElementById("kills").value;
                var str_deaths = document.getElementById("deaths").value;
                var str_time = document.getElementById("time").value;
                var str_obj = document.getElementById("obj").value;
            }
        </script>
    </body>
</html>
